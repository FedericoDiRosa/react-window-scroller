{"version":3,"sources":["../../src/index.jsx","Row.jsx","FixedSizeList.jsx","VariableSizeList.jsx","Cell.jsx","FixedSizeGrid.jsx","VariableSizeGrid.jsx","App.jsx","index.jsx"],"names":["windowScrollPositionKey","y","x","documentScrollPositionKey","getScrollPosition","axis","window","document","children","throttleTime","isGrid","ref","useRef","outerRef","useEffect","handleWindowScroll","throttle","offsetTop","offsetLeft","scrollTop","scrollLeft","onScroll","useCallback","scrollOffset","scrollUpdateWasRequested","top","left","Math","style","width","height","display","Row","index","className","FixedSizeList","innerHeight","itemCount","itemSize","rowSizes","Array","map","round","random","getItemSize","VariableSizeList","Cell","columnIndex","rowIndex","FixedSizeGrid","innerWidth","columnCount","columnWidth","rowCount","rowHeight","columnWidths","rowHeights","VariableSizeGrid","lists","App","useState","selected","setSelected","list","key","onClick","ReactDOM","render","getElementById"],"mappings":"gNAGMA,EAA0B,CAC9BC,EAD8B,cAE9BC,EAAG,eAGCC,EAA4B,CAChCF,EADgC,YAEhCC,EAAG,cAGCE,EAAoB,SAACC,GAAD,OACxBC,OAAON,EAAPM,KACAC,yBAAyBJ,EADzBG,KAEAC,cAAcJ,EAFdG,KADwB,G,sBAMS,SAAC,GAI9B,IAHJE,EAGI,EAHJA,SAGI,IAFJC,oBAEI,MAFW,GAEX,MADJC,cACI,SACEC,EAAMC,EAAZ,SACMC,EAAWD,EAAjB,SAEAE,aAAU,WACR,IAAMC,EAAqBC,GAAS,WAAM,MACEH,WADF,iBAChCI,OADgC,yBACjBC,OADiB,UAElCC,EAAYf,OAAlB,EACMgB,EAAahB,OAAnB,EACA,GAAYO,EAAA,SAAeA,EAAA,iBAAqB,CAAES,WAAF,EAAcD,cAC9D,GAAaR,WAAeA,mBAAfA,KALf,GASA,OADAL,oCACO,WACLS,WACAT,0CAED,CAdHQ,IAgBA,IAAMO,EAAWC,eACf,YAAuE,IAApEF,EAAoE,EAApEA,WAAYD,EAAwD,EAAxDA,UAAWI,EAA6C,EAA7CA,aACxB,GADqE,EAA/BC,yBACtC,CACA,IAAMC,EAAMrB,EAAZ,KACMsB,EAAOtB,EAAb,KAHqE,EAI3BS,WAJ2B,iBAI7DI,OAJ6D,yBAI9CC,OAJ8C,UAMrEK,GAAgBI,WAAhBJ,GACAJ,GAAaQ,WAAbR,GACAC,GAAcO,WAAdP,GAEKV,GAAUa,IAAf,GAAqCjB,sBACjCI,GAAWS,OAAqBC,IAApC,GACEd,wBAGJ,CAhBF,IAmBA,OAAOE,EAAS,CACdG,IADc,EAEdE,SAFc,EAGde,MAAO,CACLC,MAAOnB,EAAS,OADX,OAELoB,OAFK,OAGLC,QAAS,gBAEXV,e,2HCpEG,MAAMW,EAAM,EAAGC,QAAOL,WAC3B,yBAAKM,UAAWD,EAAQ,EAAI,MAAQ,OAAQL,MAAOA,GAAnD,OACOK,GCmBME,MAlBO,IACpB,kBAAC,sBAAD,KACG,EAAGxB,MAAKE,WAAUe,QAAOP,cACxB,kBAAC,IAAD,CACEV,IAAKA,EACLE,SAAUA,EACVe,MAAOA,EACPE,OAAQxB,OAAO8B,YACfC,UAAW,IACXC,SAAU,IACVjB,SAAUA,GAETW,ICZT,MAAMO,EAAW,IAAI,IAAIC,MAAM,MAAOC,IACpC,IAAM,GAAKd,KAAKe,MAAsB,GAAhBf,KAAKgB,WAEvBC,EAAeX,GAAUM,EAASN,GAoBzBY,MAlBU,IACvB,kBAAC,sBAAD,KACG,EAAGlC,MAAKE,WAAUe,QAAOP,cACxB,kBAAC,IAAD,CACEV,IAAKA,EACLE,SAAUA,EACVe,MAAOA,EACPE,OAAQxB,OAAO8B,YACfC,UAAW,IACXC,SAAUM,EACVvB,SAAUA,GAETW,ICpBF,MAAMc,EAAO,EAAGC,cAAaC,WAAUpB,WAC5C,yBACEM,UACEa,EAAc,EACVC,EAAW,IAAM,EACf,MACA,OACFA,EAAW,EACX,MACA,OAENpB,MAAOA,GAVT,IAYIoB,EAZJ,MAYiBD,GCWJE,MArBO,IACpB,kBAAC,sBAAD,CAAqBvC,QAAM,GACxB,EAAGC,MAAKE,WAAUe,QAAOP,cACxB,kBAAC,IAAD,CACEV,IAAKA,EACLE,SAAUA,EACVe,MAAOA,EACPE,OAAQxB,OAAO8B,YACfP,MAAOvB,OAAO4C,WACdC,YAAa,IACbC,YAAa,IACbC,SAAU,IACVC,UAAW,GACXjC,SAAUA,GAETyB,ICfT,MAAMS,EAAe,IAAI,IAAIf,MAAM,MAAOC,IACxC,IAAM,GAAKd,KAAKe,MAAsB,GAAhBf,KAAKgB,WAEvBa,EAAa,IAAI,IAAIhB,MAAM,MAAOC,IACtC,IAAM,GAAKd,KAAKe,MAAsB,GAAhBf,KAAKgB,WAwBdc,MArBU,IACvB,kBAAC,sBAAD,CAAqB/C,QAAM,GACxB,EAAGC,MAAKE,WAAUe,QAAOP,cACxB,kBAAC,IAAD,CACEV,IAAKA,EACLE,SAAUA,EACVe,MAAOA,EACPE,OAAQxB,OAAO8B,YACfP,MAAOvB,OAAO4C,WACdC,YAAa,IACbC,YAAcnB,GAAUsB,EAAatB,GACrCoB,SAAU,IACVC,UAAYrB,GAAUuB,EAAWvB,GACjCZ,SAAUA,GAETyB,ICrBT,MAAMY,EAAQ,CAAC,aAAc,gBAAiB,aAAc,iBAsB7CC,MApBH,KAAO,MAAD,EACgBC,mBAASF,EAAM,IAD/B,mBACTG,EADS,KACCC,EADD,KAEhB,OACE,oCACE,6BACGJ,EAAMjB,IAAKsB,GACV,4BAAQC,IAAKD,EAAME,QAAS,IAAMH,EAAYC,IAC3CA,KAKO,eAAbF,GAA6B,kBAAC,EAAD,MAChB,kBAAbA,GAAgC,kBAAC,EAAD,MACnB,eAAbA,GAA6B,kBAAC,EAAD,MAChB,kBAAbA,GAAgC,kBAAC,EAAD,QCjBvCK,IAASC,OAAO,kBAAC,EAAD,MAAS5D,SAAS6D,eAAe,U","file":"static/js/main.b9d15f46.chunk.js","sourcesContent":["import { useRef, useEffect, useCallback } from 'react'\nimport throttle from 'lodash/throttle'\n\nconst windowScrollPositionKey = {\n  y: 'pageYOffset',\n  x: 'pageXOffset'\n}\n\nconst documentScrollPositionKey = {\n  y: 'scrollTop',\n  x: 'scrollLeft'\n}\n\nconst getScrollPosition = (axis) =>\n  window[windowScrollPositionKey[axis]] ||\n  document.documentElement[documentScrollPositionKey[axis]] ||\n  document.body[documentScrollPositionKey[axis]] ||\n  0\n\nexport const ReactWindowScroller = ({\n  children,\n  throttleTime = 10,\n  isGrid = false\n}) => {\n  const ref = useRef()\n  const outerRef = useRef()\n\n  useEffect(() => {\n    const handleWindowScroll = throttle(() => {\n      const { offsetTop = 0, offsetLeft = 0 } = outerRef.current || {}\n      const scrollTop = getScrollPosition('y') - offsetTop\n      const scrollLeft = getScrollPosition('x') - offsetLeft\n      if (isGrid) ref.current && ref.current.scrollTo({ scrollLeft, scrollTop })\n      if (!isGrid) ref.current && ref.current.scrollTo(scrollTop)\n    }, throttleTime)\n\n    window.addEventListener('scroll', handleWindowScroll)\n    return () => {\n      handleWindowScroll.cancel()\n      window.removeEventListener('scroll', handleWindowScroll)\n    }\n  }, [isGrid])\n\n  const onScroll = useCallback(\n    ({ scrollLeft, scrollTop, scrollOffset, scrollUpdateWasRequested }) => {\n      if (!scrollUpdateWasRequested) return\n      const top = getScrollPosition('y')\n      const left = getScrollPosition('x')\n      const { offsetTop = 0, offsetLeft = 0 } = outerRef.current || {}\n\n      scrollOffset += Math.min(top, offsetTop)\n      scrollTop += Math.min(top, offsetTop)\n      scrollLeft += Math.min(left, offsetLeft)\n\n      if (!isGrid && scrollOffset !== top) window.scrollTo(0, scrollOffset)\n      if (isGrid && (scrollTop !== top || scrollLeft !== left)) {\n        window.scrollTo(scrollLeft, scrollTop)\n      }\n    },\n    [isGrid]\n  )\n\n  return children({\n    ref,\n    outerRef,\n    style: {\n      width: isGrid ? 'auto' : '100%',\n      height: '100%',\n      display: 'inline-block'\n    },\n    onScroll\n  })\n}\n","import React from 'react'\n\nexport const Row = ({ index, style }) => (\n  <div className={index % 2 ? 'odd' : 'even'} style={style}>\n    Row {index}\n  </div>\n)\n","import React from 'react'\nimport { FixedSizeList as List } from 'react-window'\nimport { ReactWindowScroller } from 'react-window-scroller'\nimport { Row } from './Row'\n\nconst FixedSizeList = () => (\n  <ReactWindowScroller>\n    {({ ref, outerRef, style, onScroll }) => (\n      <List\n        ref={ref}\n        outerRef={outerRef}\n        style={style}\n        height={window.innerHeight}\n        itemCount={1000}\n        itemSize={100}\n        onScroll={onScroll}\n      >\n        {Row}\n      </List>\n    )}\n  </ReactWindowScroller>\n)\n\nexport default FixedSizeList\n","import React from 'react'\nimport { VariableSizeList as List } from 'react-window'\nimport { ReactWindowScroller } from 'react-window-scroller'\nimport { Row } from './Row'\n\nconst rowSizes = [...new Array(1000)].map(\n  () => 25 + Math.round(Math.random() * 50)\n)\nconst getItemSize = (index) => rowSizes[index]\n\nconst VariableSizeList = () => (\n  <ReactWindowScroller>\n    {({ ref, outerRef, style, onScroll }) => (\n      <List\n        ref={ref}\n        outerRef={outerRef}\n        style={style}\n        height={window.innerHeight}\n        itemCount={1000}\n        itemSize={getItemSize}\n        onScroll={onScroll}\n      >\n        {Row}\n      </List>\n    )}\n  </ReactWindowScroller>\n)\n\nexport default VariableSizeList\n","import React from 'react'\n\nexport const Cell = ({ columnIndex, rowIndex, style }) => (\n  <div\n    className={\n      columnIndex % 2\n        ? rowIndex % 2 === 0\n          ? 'odd'\n          : 'even'\n        : rowIndex % 2\n        ? 'odd'\n        : 'even'\n    }\n    style={style}\n  >\n    r{rowIndex}, c{columnIndex}\n  </div>\n)\n","import React from 'react'\nimport { FixedSizeGrid as Grid } from 'react-window'\nimport { ReactWindowScroller } from 'react-window-scroller'\nimport { Cell } from './Cell'\n\nconst FixedSizeGrid = () => (\n  <ReactWindowScroller isGrid>\n    {({ ref, outerRef, style, onScroll }) => (\n      <Grid\n        ref={ref}\n        outerRef={outerRef}\n        style={style}\n        height={window.innerHeight}\n        width={window.innerWidth}\n        columnCount={1000}\n        columnWidth={100}\n        rowCount={1000}\n        rowHeight={50}\n        onScroll={onScroll}\n      >\n        {Cell}\n      </Grid>\n    )}\n  </ReactWindowScroller>\n)\n\nexport default FixedSizeGrid\n","import React from 'react'\nimport { VariableSizeGrid as Grid } from 'react-window'\nimport { ReactWindowScroller } from 'react-window-scroller'\nimport { Cell } from './Cell'\n\nconst columnWidths = [...new Array(1000)].map(\n  () => 75 + Math.round(Math.random() * 50)\n)\nconst rowHeights = [...new Array(1000)].map(\n  () => 25 + Math.round(Math.random() * 50)\n)\n\nconst VariableSizeGrid = () => (\n  <ReactWindowScroller isGrid>\n    {({ ref, outerRef, style, onScroll }) => (\n      <Grid\n        ref={ref}\n        outerRef={outerRef}\n        style={style}\n        height={window.innerHeight}\n        width={window.innerWidth}\n        columnCount={1000}\n        columnWidth={(index) => columnWidths[index]}\n        rowCount={1000}\n        rowHeight={(index) => rowHeights[index]}\n        onScroll={onScroll}\n      >\n        {Cell}\n      </Grid>\n    )}\n  </ReactWindowScroller>\n)\n\nexport default VariableSizeGrid\n","import React, { useState } from 'react'\nimport FixedSizeList from './FixedSizeList'\nimport VariableSizeList from './VariableSizeList'\nimport FixedSizeGrid from './FixedSizeGrid'\nimport VariableSizeGrid from './VariableSizeGrid'\n\nconst lists = ['Fixed List', 'Variable List', 'Fixed Grid', 'Variable Grid']\n\nconst App = () => {\n  const [selected, setSelected] = useState(lists[0])\n  return (\n    <>\n      <nav>\n        {lists.map((list) => (\n          <button key={list} onClick={() => setSelected(list)}>\n            {list}\n          </button>\n        ))}\n      </nav>\n\n      {selected === 'Fixed List' && <FixedSizeList />}\n      {selected === 'Variable List' && <VariableSizeList />}\n      {selected === 'Fixed Grid' && <FixedSizeGrid />}\n      {selected === 'Variable Grid' && <VariableSizeGrid />}\n    </>\n  )\n}\n\nexport default App\n","import './index.css'\n\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}